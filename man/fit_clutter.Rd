% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_clutter.R
\name{fit_clutter}
\alias{fit_clutter}
\title{Ajuste do Modelo de Clutter (MQ2O)}
\usage{
fit_clutter(df, Id, HD, B, V, S, .groups, struct_form_df = F,
  model = 1, keep_model = F)
}
\arguments{
\item{df}{Dataframe a ser utilizado.}

\item{Id}{Nome com ou sem aspas da variavel Idade.}

\item{HD}{Nome com ou sem aspas da variavel Altura Dominante.}

\item{B}{Nome com ou sem aspas da variavel Area Seccional.}

\item{V}{Nome com ou sem aspas da variavel Volume.}

\item{S}{Nome com ou sem aspas da variavel Site.}

\item{.groups}{Nome com ou sem aspas de uma ou mais variáveis classificatorias,  utilizadas para criacao da forma estrutural e, caso haja mais de uma, para ajuste do modelo por grupo. Pelo menos uma deve ser inserida, referente a Parcela.}

\item{struct_form_df}{Caso seja verdadeira, o dataframe inserido sera considerado como um dado ja padronizado para a forma estrutural. Este deve conter as variaveis Y1, X1, X2, X3, Y2, Y4 E Y5. Padrao: \code{F}.}

\item{model}{Selecao do tipo de modelo ajustado. Caso seja igual 1, ajusta-se o modelo completo. Caso seja igual a 2, ajusta-se o modelo retirando-se X3 do ajuste. Padrao: \code{1}.}

\item{keep_model}{Indica se a variavel contendo o ajuste deve ser mantida ou nao. Padrao \code{FALSE}.}
}
\value{
Dataframe contendo os coeficientes do ajuste, e uma coluna contendo o ajuste em si.
}
\description{
Ajuste do Modelo de Clutter para Crescimento e Producao pelo metodo dos Minimos Quadrados em 2 Estagios.
}
\details{

}
\examples{

library(forestmangr)
library(dplyr)
data("ex16_mfr")
data("ex17_mfr")

# Primeiro iremos estimar o Site utilizando para a idade indice de 64 meses:
Idade_I <- 64

dados <- ex16_mfr \%>\% 
  lm_table(log(HD) ~ inv(Idade), output = "merge") \%>\% 
  mutate(S = exp(log(HD) - b1 * (1/Idade - 1/Idade_I))  ) \%>\% 
  select(-b0, -b1, -Rsqr, -Rsqr_adj, -Std.Error)
dados 

# Agora para rodar o modelo de Clutter basta inserir os nomes das variÃ¡veis
# Idade, altura dominante, area basal, volume, site e parcela:
coefs_clutter <- fit_clutter(dados, "Idade", "HD", "B", "V", "S", "Parcela")
coefs_clutter

# Caso os seus dados ja estejam no formato estrutural, basta utilizar
# o argumento struct_form_df para realizar o ajuste:
ex17_mfr

coefs_clutter <- fit_clutter(ex17_mfr, struct_form_df = T)
coefs_clutter
# obs: Neste caso, a nomemclatura deve ser respeitada
             
}
\references{
CLUTTER, J. L. Compatible Growth For Loblolly by the Southeastern. Forest Science, v. 9, n. 3, p. 354–371, 1963. 
SULLIVAN, A. D.; CLUTTER, J. L. A Simultaneous Growth and Yield for Loblolly Pine. Forest Science, v. 18, n. 1, p. 76–86, 1972. 
CAMPOS, J. C. C.; LEITE, H. G. Mensuracao florestal: perguntas e respostas. 3a. ed. Vicosa: Editora UFV, 2013. 605 p.
}
\author{
Sollano Rabelo Braga \email{sollanorb@gmail.com}
}
\keyword{2SLS}
\keyword{Clutter,}
\keyword{MQ20,}
